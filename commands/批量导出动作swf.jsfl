function startParse(){	fl.outputPanel.clear();	var dom = fl.getDocumentDOM();	var isOpen = true;	if ((dom == null))	{		isOpen = false;		var filePath = fl.browseForFileURL("open","select file");		fl.openDocument(filePath);		dom = fl.getDocumentDOM();	}	if ((dom != null))	{		dom.editScene(0);		//dom.deleteSelection()		var lib = dom.library;		var timeLine = dom.getTimeline();		//var frames = timeLine.selectAllFrames();		//timeLine.selectAllFrames();		clearAllLayer(timeLine);		if (! lib.itemExists("out"))		{			alert("out文件夹不存在");			return;		}		var swfPath;		if (dom.pathURI)		{			swfPath = dom.pathURI;			var domName = dom.name.substr(0,dom.name.lastIndexOf("."));			swfPath = swfPath.substr(0,swfPath.lastIndexOf("/")) + "/" + domName;		}		else		{			swfPath = fl.browseForFolderURL("请选择生成swf文件的路径：");		}		//swfPath = swfPathArr.join("/")+"/outSwf";		//swfPath = swfPath.substr(0,swfPath.lastIndexOf("/")) + "/outSwf";		//var domName = dom.name.substr(0,dom.name.lastIndexOf("."));		//swfPath = swfPath.substr(0,swfPath.lastIndexOf("/")) + "/" + domName;		if (! FLfile.exists(swfPath))		{			FLfile.createFolder(swfPath);		}		var items = lib.items;		for each (var item in items)		{			if (item.name.indexOf("out/") == 0 && item.name != "out")			{				lib.selectItem(item.name);				lib.addItemToDocument({x:300,y:250});				var swfName = item.name.substr(4);				var itemSwfPath = swfPath + "/" + swfName + ".swf";				fl.trace(itemSwfPath);				dom.exportSWF(itemSwfPath,true);				dom.selectAll();				dom.deleteSelection();			}		}		if (! isOpen)		{			//fl.closeDocument(dom,false);		}		fl.outputPanel.clear();		alert("导出成功");	}	else	{		alert("文件错误！");	}}//清除所有的层function clearAllLayer(timel){	if ((timel != null))	{		var layerNum = timel.layerCount;		var i = 0;		while ((i < layerNum))		{			timel.deleteLayer(0);			i++;		}	}}function getFlashVersion(){	var flVersion = fl.version;	var flarr = flVersion.split(" ");	var platform = flarr[0];	var v = flarr[1].split(",");	var curVersion = v[0];	return curVersion;}startParse();